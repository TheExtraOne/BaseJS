<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Base JS Add HW1</title>
		<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
		<meta name="HandheldFriendly" content="True"/> <!--В некоторых случаях смартфоны автоматически изменяют масштаб страницы, лучше эту возможность отключать-->
		<!-- saved from url=(0014)about:internet -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/> <!--Для включения сглаживания шрифтов -->
		<meta http-equiv="cleartype" content="on"/> <!--Чтобы переключить Internet Explorer в режим последней версии -->
		
	</head>
	<body>

		<script>

			'use strict'
			
			let input = prompt("Введите строку");

			let checkIsPalindrom = (str) => {
				let isPalindrom = 'Это палиндром';

				if ( str.includes(' ') ) {  //Для удаления пробелов
					str = str.replace(/\s+/g, '');
					//console.log(str);
				}

				if (str.length <= 1){
					isPalindrom = 'Это не палиндром';
					return isPalindrom;
				}

				str = str.toLowerCase(); // Для игнорирования регистра

				let punctuation = /[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~]/g;
				str = str.replace(punctuation,"");  //Не смогла вынести в отдельный if. Для удаления знаков препинания
				//console.log(str);

				if ( str.includes('ь') ) {  //Для удаления ь
					str = str.replace(/\ь+/g, '');
					//console.log(str);
				}
				if ( str.includes('ъ') ) {  //Для удаления ъ
					str = str.replace(/\ъ+/g, '');
					//console.log(str);
				}

				if ( str.includes('ё') ) {  //Для нивелирования разницы е и ё
					str = str.replace(/\ё+/g, 'е');
					//console.log(str);
				}

				let strStart = str[0];
				let strEnd = str[str.length - 1];

				if (strStart === strEnd) {
					for (let i = 0, j = str.length - 1; i < j; i++, j--) {
						strStart = str[i];
						strEnd = str[j];
						if (strStart !== strEnd) {
							isPalindrom = 'Это не палиндром';
							break;
						}
					}
				} else {
					isPalindrom = 'Это не палиндром';
				}

				return isPalindrom;
			}

			alert(checkIsPalindrom(input));
			
		</script>

	</body>
</html>
