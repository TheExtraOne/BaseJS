<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Base JS Add HW1</title>
		<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
		<meta name="HandheldFriendly" content="True"/> <!--В некоторых случаях смартфоны автоматически изменяют масштаб страницы, лучше эту возможность отключать-->
		<!-- saved from url=(0014)about:internet -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/> <!--Для включения сглаживания шрифтов -->
		<meta http-equiv="cleartype" content="on"/> <!--Чтобы переключить Internet Explorer в режим последней версии -->
		
	</head>
	<body>

		<script>

			'use strict'
			
			/*let userArr = [ 5,7,[4,[2],8,[1,3], 2],[9,[]],1,8];
			let treeSum = (arr) => {
				let newArr = arr.join(',').split(',');
				console.log(newArr);
				let sum = 0;
				for (let i = 0; i < newArr.length; i++) {
					sum += (+ newArr[i]);	
				}
				return sum;
			}

			console.log(treeSum(userArr));*/

			let userArr = [5,7,[4,[2],8,[1,3], 2],[9,[]],1,8];

			let treeSum = (arr) => {
				let sum = 0;
				for (let i = 0; i < arr.length; i++) {
					/*if ( !Array.isArray(arr[i]) ) {
						sum += arr[i];
					} else {
						sum += treeSum(arr[i]);
					}*/
					( Array.isArray(arr[i]) )? (sum += treeSum(arr[i])) : (sum += arr[i]);
				}
				return sum;
			}

			console.log(treeSum(userArr));
			
		</script>

	</body>
</html>
